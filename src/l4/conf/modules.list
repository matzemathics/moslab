# vim:set ft=l4mods:
# Module configuration file for single image mode
#
# kernel, sigma0 and moe are always loaded automatically
#
# add kernel command line arguments with
#  kernel fiasco arguments...
# the second argument (here 'fiasco') is the binary name
#
# add sigma command line arguments with
#  sigma0 sigma0 arguments...
# the second argument (here 'sigma0') is the binary name
#
# add roottask command line arguments with
#  roottask moe arguments...
# the second argument (here 'moe') is the binary name
#
# modaddr: address where modules start, relative to begin of RAM
#   this statement is either global (before first entry statement)
#   or per entry
#
# 'module' variants
# - module file: add file
# - module[uncompress] module name: uncompress module (gzip) before adding it
# - module[glob] /some/path/*.foo: add all file matching
# - module[perl] perl-code: Perl code returns array of files to include
# - module[shell] shell-code: Return list of files to include
# - module[fname=FOO] /some/path/bar: The file 'bar' will be added as the
#                                     module named 'FOO'.
# - moe file.cfg: expands to
#        roottask moe rom/file.cfg
#        module file.cfg
#
# Modules can have an arbitrary number of attributes (key-value-pairs). The
# attribute key must be prefixed by 'attr:':
# - module[attr:nodes=0-3]: The attribute 'nodes' with the value '0-3'
#
# Define a module group:
#  group oftenneedthose
#  module one
#  module two
#  module ...
#
# Use a module group:
#  entry someentry
#  module-group oftenneedthose
#
# Include other module list files:
#  include /path/to/other.list
#
# Set defaults:
# - default-kernel: set default kernel including arguments
# - default-sigma0: set default sigma0 including arguments
# - default-roottask: set default roottask including arguments

modaddr 0x01100000

default-kernel fiasco -serial_esc
default-bootstrap bootstrap

entry hello
roottask moe --init=rom/hello
module l4re
module hello
module hello.cfg

entry logging
roottask moe rom/logging.cfg
module l4re
module ned
module[fname=server] logging-server
module[fname=client] logging-client
module logging.cfg

