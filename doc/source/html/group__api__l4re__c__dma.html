<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>L4Re Operating System Framework – Interface and Usage Documentation: DMA Space Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="l4re.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">L4Re Operating System Framework – Interface and Usage Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__api__l4re__c__dma.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DMA Space Interface<div class="ingroups"><a class="el" href="group__api__l4re__c.html">L4Re C Interface</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>DMA Space C interface.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for DMA Space Interface:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__api__l4re__c__dma.svg" width="347" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga0a28e1f39a38aab07a01706ebd22e432" id="r_ga0a28e1f39a38aab07a01706ebd22e432"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a></td></tr>
<tr class="memdesc:ga0a28e1f39a38aab07a01706ebd22e432"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA space capability type.  <br /></td></tr>
<tr class="separator:ga0a28e1f39a38aab07a01706ebd22e432"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga75e9157b3c56fc666f818068cfb9dbf2" id="r_ga75e9157b3c56fc666f818068cfb9dbf2"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__l4re__c__dma.html#ga75e9157b3c56fc666f818068cfb9dbf2">l4re_dma_space_map</a> (<a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a> dma, <a class="el" href="group__api__l4re__c__ds.html#ga067feec0fd93ee6feb4b212d92b7ba8a">l4re_ds_t</a> src, l4re_ds_offset_t offset, <a class="el" href="group__l4__basic__types.html#ga08c1e83a068ded7add134b188cd44967">l4_size_t</a> *size, unsigned long attrs, enum <a class="el" href="dma__space_8h.html#acb95dc82018a9c1693d03fe0709c0d23">l4re_dma_space_direction</a> dir, <a class="el" href="dma__space_8h.html#a2081e44de64ea44d6d5baab98996c46a">l4re_dma_space_dma_addr_t</a> *dma_addr) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:ga75e9157b3c56fc666f818068cfb9dbf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map the given part of this data space into the DMA address space.    <br /></td></tr>
<tr class="separator:ga75e9157b3c56fc666f818068cfb9dbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07ceb9a3b19a1a6cedf5b7a742df4abb" id="r_ga07ceb9a3b19a1a6cedf5b7a742df4abb"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__l4re__c__dma.html#ga07ceb9a3b19a1a6cedf5b7a742df4abb">l4re_dma_space_unmap</a> (<a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a> dma, <a class="el" href="dma__space_8h.html#a2081e44de64ea44d6d5baab98996c46a">l4re_dma_space_dma_addr_t</a> dma_addr, <a class="el" href="group__l4__basic__types.html#ga08c1e83a068ded7add134b188cd44967">l4_size_t</a> size, unsigned long attrs, enum <a class="el" href="dma__space_8h.html#acb95dc82018a9c1693d03fe0709c0d23">l4re_dma_space_direction</a> dir) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:ga07ceb9a3b19a1a6cedf5b7a742df4abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmap the given part of this data space from the DMA address space.    <br /></td></tr>
<tr class="separator:ga07ceb9a3b19a1a6cedf5b7a742df4abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e15313b07dd7910b88e4662226e1bbc" id="r_ga0e15313b07dd7910b88e4662226e1bbc"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__l4re__c__dma.html#ga0e15313b07dd7910b88e4662226e1bbc">l4re_dma_space_associate</a> (<a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a> dma, <a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> dma_task, unsigned long attr) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:ga0e15313b07dd7910b88e4662226e1bbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate a (kernel) <a class="el" href="group__l4__kernel__object__dmar__space.html">DMA space</a> for a device to this Dma_space.    <br /></td></tr>
<tr class="separator:ga0e15313b07dd7910b88e4662226e1bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04f2e0fd5bd58aa97b610b519e402244" id="r_ga04f2e0fd5bd58aa97b610b519e402244"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__l4re__c__dma.html#ga04f2e0fd5bd58aa97b610b519e402244">l4re_dma_space_disassociate</a> (<a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a> dma)</td></tr>
<tr class="memdesc:ga04f2e0fd5bd58aa97b610b519e402244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disassociate the (kernel) <a class="el" href="group__l4__kernel__object__dmar__space.html">DMA space</a> from this Dma_space.    <br /></td></tr>
<tr class="separator:ga04f2e0fd5bd58aa97b610b519e402244"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>DMA Space C interface. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga0a28e1f39a38aab07a01706ebd22e432" name="ga0a28e1f39a38aab07a01706ebd22e432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a28e1f39a38aab07a01706ebd22e432">&#9670;&#160;</a></span>l4re_dma_space_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> <a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMA space capability type. </p>
<p>Managed DMA Address Space.  </p>
<p>A managed Dma_space represents the <a class="el" href="namespaceL4Re.html" title="L4Re C++ Interfaces.">L4Re</a> abstraction of an DMA address space of one or several devices. Devices are assigned to a managed Dma_space by binding the Dma_space to the respective DMA domain (see <a class="el" href="classL4vbus_1_1Vbus.html#a15085069054edbb9b221154e25db52b2" title="Bind or unbind an L4Re::Dma_space to a DMA domain.">L4vbus::Vbus::assign_dma_domain()</a>), which might link the Dma_space with a kernel <a class="el" href="group__l4__kernel__object__dmar__space.html">DMA space</a>. Note that several DMA domains can be bound to the same Dma_space. Whenever a device needs direct access to parts of an <a class="el" href="classL4Re_1_1Dataspace.html" title="Interface for memory-like objects.">L4Re::Dataspace</a>, that part of the data space must be mapped to the managed Dma_space that is assigned to that device. Binding to DMA domains must happen before mapping. After the DMA accesses to the memory are finished the memory must be unmapped from the device's DMA address space.</p>
<p>Mapping to a managed DMA address space, using map(), makes the given parts of the data space visible to the associated device at the returned DMA address. As long as the memory is mapped into a DMA space it is 'pinned' and cannot be subject to dynamic memory management such as swapping. Additionally, map() is responsible for the necessary syncing operations before the DMA.</p>
<p>unmap() is the reverse operation to map() and unmaps the given data-space part for the DMA address space. unmap() is responsible for the necessary sync operations after the DMA.   </p>

<p class="definition">Definition at line <a class="el" href="dma__space_8h_source.html#l00059">59</a> of file <a class="el" href="dma__space_8h_source.html">dma_space.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0e15313b07dd7910b88e4662226e1bbc" name="ga0e15313b07dd7910b88e4662226e1bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e15313b07dd7910b88e4662226e1bbc">&#9670;&#160;</a></span>l4re_dma_space_associate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long l4re_dma_space_associate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a>&#160;</td>
          <td class="paramname"><em>dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td>
          <td class="paramname"><em>dma_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associate a (kernel) <a class="el" href="group__l4__kernel__object__dmar__space.html">DMA space</a> for a device to this Dma_space.   </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">dma</td><td>DMA space capability</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dma_task</td><td>The (kernel) <a class="el" href="group__l4__kernel__object__dmar__space.html">DMA space</a> used for the device that shall be associated with this DMA space. In case no IOMMU is present or configured, the dma_task might be an invalid capability when <a class="el" href="classL4Re_1_1Dma__space.html#a676ff57e99cc0d8f53dc33aeadfe764fa31ff98370e7fb2c234c671efb0e0297e" title="The DMA space has no DMA task assigned and uses the CPUs physical memory.">L4Re::Dma_space::Phys_space</a> is set in <code>attr</code>, in this case the CPUs physical memory is used as DMA address space. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>Attributes for this DMA space. See <a class="el" href="classL4Re_1_1Dma__space.html#a676ff57e99cc0d8f53dc33aeadfe764f" title="Attributes assigned to the DMA space when associated with a specific device.">L4Re::Dma_space::Space_attrib</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Operation successful. </td></tr>
    <tr><td class="paramname">-L4_EPERM</td><td>No <a class="el" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a561054fb4021ff4a22ab1881c7a7de5a" title="Interface specific &#39;W&#39; right for capability flex-pages.">L4_CAP_FPAGE_W</a> right on the Dma_space capability. </td></tr>
    <tr><td class="paramname">-L4_EINVAL</td><td></td></tr>
    <tr><td class="paramname">-L4_ENOENT</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires capability rights: {RW}   </dd></dl>

</div>
</div>
<a id="ga04f2e0fd5bd58aa97b610b519e402244" name="ga04f2e0fd5bd58aa97b610b519e402244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04f2e0fd5bd58aa97b610b519e402244">&#9670;&#160;</a></span>l4re_dma_space_disassociate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long l4re_dma_space_disassociate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a>&#160;</td>
          <td class="paramname"><em>dma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disassociate the (kernel) <a class="el" href="group__l4__kernel__object__dmar__space.html">DMA space</a> from this Dma_space.   </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dma</td><td>DMA space capability</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Operation successful. </td></tr>
    <tr><td class="paramname">-L4_EPERM</td><td>No <a class="el" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a561054fb4021ff4a22ab1881c7a7de5a" title="Interface specific &#39;W&#39; right for capability flex-pages.">L4_CAP_FPAGE_W</a> right on the Dma_space capability. </td></tr>
    <tr><td class="paramname">-L4_ENOENT</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires capability rights: {RW}   </dd></dl>

</div>
</div>
<a id="ga75e9157b3c56fc666f818068cfb9dbf2" name="ga75e9157b3c56fc666f818068cfb9dbf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75e9157b3c56fc666f818068cfb9dbf2">&#9670;&#160;</a></span>l4re_dma_space_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long l4re_dma_space_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a>&#160;</td>
          <td class="paramname"><em>dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__api__l4re__c__ds.html#ga067feec0fd93ee6feb4b212d92b7ba8a">l4re_ds_t</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">l4re_ds_offset_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#ga08c1e83a068ded7add134b188cd44967">l4_size_t</a> *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dma__space_8h.html#acb95dc82018a9c1693d03fe0709c0d23">l4re_dma_space_direction</a>&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dma__space_8h.html#a2081e44de64ea44d6d5baab98996c46a">l4re_dma_space_dma_addr_t</a> *&#160;</td>
          <td class="paramname"><em>dma_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map the given part of this data space into the DMA address space.   </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">dma</td><td>DMA space capability</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>Source data space (that describes the memory). Caller needs write right to the data space. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset (bytes) within <code>src</code>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">size</td><td>The size (bytes) of the region to be mapped for DMA, after successful mapping the size returned is the size mapped for DMA as a single block. This size might be smaller than the original input size, in this case the caller might call map() again with a new offset and the remaining size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attrs</td><td>The attributes used for this DMA mapping (a combination of Dma_space::Attribute values). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>The direction of the DMA transfer issued with this mapping. The same value must later be passed to unmap(). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dma_addr</td><td>The DMA address to use for DMA with the associated device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Operation successful. </td></tr>
    <tr><td class="paramname">-L4_EPERM</td><td>No <a class="el" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a561054fb4021ff4a22ab1881c7a7de5a" title="Interface specific &#39;W&#39; right for capability flex-pages.">L4_CAP_FPAGE_W</a> right on <code>src</code> capability. </td></tr>
    <tr><td class="paramname">-L4_EINVAL</td><td>The <code>src</code> capability is invalid or does not refer to a valid dataspace. </td></tr>
    <tr><td class="paramname">-L4_EEXIST</td><td>The specified region overlaps an existing mapping. </td></tr>
    <tr><td class="paramname">-L4_ENOMEM</td><td>Not enough memory to allocate internal datastructures. </td></tr>
    <tr><td class="paramname">-L4_ERANGE</td><td><code>offset</code> is larger than the size of the dataspace.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires capability rights: {R}</dd></dl>
<dl class="section note"><dt>Note</dt><dd>associate() must be called prior to mapping memory. Usually this is done implicitely when binding the managed Dma_space to a DMA domain (see <a class="el" href="classL4vbus_1_1Vbus.html#a15085069054edbb9b221154e25db52b2" title="Bind or unbind an L4Re::Dma_space to a DMA domain.">L4vbus::Vbus::assign_dma_domain()</a>).   </dd></dl>

</div>
</div>
<a id="ga07ceb9a3b19a1a6cedf5b7a742df4abb" name="ga07ceb9a3b19a1a6cedf5b7a742df4abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07ceb9a3b19a1a6cedf5b7a742df4abb">&#9670;&#160;</a></span>l4re_dma_space_unmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long l4re_dma_space_unmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__api__l4re__c__dma.html#ga0a28e1f39a38aab07a01706ebd22e432">l4re_dma_space_t</a>&#160;</td>
          <td class="paramname"><em>dma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dma__space_8h.html#a2081e44de64ea44d6d5baab98996c46a">l4re_dma_space_dma_addr_t</a>&#160;</td>
          <td class="paramname"><em>dma_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#ga08c1e83a068ded7add134b188cd44967">l4_size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dma__space_8h.html#acb95dc82018a9c1693d03fe0709c0d23">l4re_dma_space_direction</a>&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmap the given part of this data space from the DMA address space.   </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dma</td><td>DMA space capability</td></tr>
    <tr><td class="paramname">dma_addr</td><td>The DMA address (returned by Dma_space::map()). </td></tr>
    <tr><td class="paramname">size</td><td>The size (bytes) of the memory region to unmap. </td></tr>
    <tr><td class="paramname">attrs</td><td>The attributes for the unmap (currently none). </td></tr>
    <tr><td class="paramname">dir</td><td>The direction of the finished DMA operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in the case of success, a negative error code otherwise.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>requires capability rights: {R}   </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 17 2023 00:25:29 for L4Re Operating System Framework – Interface and Usage Documentation by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
